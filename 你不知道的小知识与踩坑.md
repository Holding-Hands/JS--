### 杂乱知识和踩坑

* 浏览器对象navigator，

  * 查看`ua navigator.userAgent`

* 对象值存在堆内存（简记：dui（堆）和对（dui）拼音一样）
  定义对象的时候 对象的变量存在栈内存中，而这个变量的引用就是该对象的内存地址（值），是存在堆内存中的

* `module.exports = {} `是`common.js`的导出方式 引入的话 const { 引入的名字 } = require('路径')

* `npx  vite` 相当于 `npm run serve`

* `npx vite build` 相当于 `npm run build`

* `npx vite preview` 测试打包后 有没有问题

  以上命令都是练习时 ，实际开发中我们使用脚本配置 比如` npm run build`

* 安装`vite` 脚手架 `npm install @vitejs/create-app -g`

* 使用`vite` 脚手架创建 `vue` 项目 `create-app` 项目名字

* 浏览器解析`dom`的时候 会将所有的元素，属性大写转为小写

* 打包之后 chunk-vendors下的打包的都是 第三方的文件

* 通过 import()函数 导入的模块， 后续`webpack`对其打包就会进行分包的操作

* 在vue中，css引入js变量

  ```css
  事情是这样的 项目需要整体颜色一致 但发现这个hover 效果 用css不好控制 所以就想到了 在css中使用 js的color变量
  .operate_list_btn_item {
    &:hover {
      // background: var(--color); // 在sass 或者 less中使用
    }
  }
  
  			<div
                    v-for="(item, index) in row.remainData"
                    :key="index"
                    :style="{ '--color': color }" // 给style 绑定 --color 变量
                    class="operate_list_btn_item"
                    @click="item.click(text, $event)">{{ item.btnName }}
                  </div>	
  ```

* 在源码中我们可以看到类似这样的代码

  ```js
  /*#__PURE__*/
  这是什么意思呢？其实是纯函数的意思，也就是webpack压缩（tree-shaking摇树）的时候，如果看到/*#__PURE__*/这个标志，说明他是纯函数，如果没有调用它，直接把他删除了，减少代码体积
  ```

* all in js

  * 在react开发中，html，css，js全都写在js里叫all in js

* css in js

  * 在react开发中，css，写在js里叫css in js
  * css怎么在js中编写呢， styled-components的第三方库可以实现





### 踩坑

* ant design vue 不回显的话 不用v-model

* ant design vue select下拉 可搜索

  ```js
  设置以下两个属性 option-filter-prop="children"   showSearch
                  <a-select
                    allowClear
                    option-filter-prop="children"
                    showSearch
                  >
                  </select>
  ```

* 循环当前行数据 尤其是 新增属性的时候 要用$set 要不然 不是响应

* enter-from 进入（入场）from从什么样的样式开始入场

* enter-to 入场 to最终到什么 样的状态

* ```
  moment(text).format('YYYY-MM-DD HH:mm:ss') // 24小时制
  moment(text).format('YYYY-MM-DD hh:mm:ss') // 12小时制
  ```
  
* ```
  使用ant design vue 上传后得到的 file文件 取不到file.fileName 但能取到file.name
  ```

* 在mixins里调用自己的mixins
* ![](https://s3.bmp.ovh/imgs/2021/09/245af68a23b500bd.png)



* 动态绑定 class 如果新绑定class内的属性与原属性 冲突 并不会覆盖原属性 class，如果想要效果可以动态绑定style



### 项目中遇到的问题

* ant design vue table选择 不支持 分页多选

  ```js
  解决方案
  1. 跨页选择
  定义一个选择的对象，将当前页作为key，值为selectedRowKeys （数组），回显的时候取这个对象里的值就行了
  2. 下拉加载，之前选择的数据消失
  这个方案不是最好的，但满足需求可以实现功能，下拉加载新一页数据的时候，会触发onSelectChange方法，参数selectedRowKeys和selectedRows都为空 这是造成 之前选择的数据消失的关键所在。我们用一个巧妙的方法 因为我们每选中一次数据就会触发onSelectChange方法 那这就很明显了 当我们选中很多条 在进行下拉的时候，参数selectedRowKeys和selectedRows都为空 这时候我们只需要判断 data中的selectedRowKeys (也就是上一次选中的数据) 是不是比这一次选中的数小于等于1（为什么小于等于1呢？小于是这次比上次多选中了一条，等于是这次取消了上次选中的一个） 如果 是 那说明我们是正常选择的，但也别忘了 为 1 的情况 等于1也会触发下面这个条件 但是此时 selectedRowKeys为空，所以会取消上次的
  
  但上面方法看似完美，我们忽略了一个问题，就是全选的时候，我们需要多加一个判断
  好了这下就解决啦
  
  /**
       * 选择表格 列表 触发的事件
       * @param selectedRowKeys
       */
      onSelectChange (selectedRowKeys, selectedRows) {
        if (this.selectedRowKeys.length <= selectedRowKeys.length + 1 && this.selectedRowKeys.length !== 1) {
          this.selectedRowKeys = selectedRowKeys
          this.aTableSelectedRows = selectedRows
        }
        this.$emit('updateSelectedData', this.aTableSelectedRows)
      },
  /**
       * 点击【全选】
       */
      onSelectAll (selectedRowKeys, selectedRows) {
        this.selectedRowKeys = selectedRowKeys
        this.aTableSelectedRows = selectedRows
      },
  ```

  































项⽬难点：
例如很多组件都要使⽤Toast组件，不可能每个组件都要引⼊⼀下，那么采取组件封装的思想，在main.js中将其挂
载到原型上，然后回执⾏其install的⽅法，在install⽅法中导⼊toast组件。②由于采⽤组件复⽤的⽅式，那么例如在使⽤商品
展⽰的Item时，由于使⽤this.$bus.$emit和this.$bus.$on进⾏兄弟之间的传值那么，就有很多⻚⾯都会有监听图⽚加载完成，
那么离开这个组件不想去监听采⽤this.$bus.$off传递⼀个函数去取消具体哪⼀个⻚⾯的监听。

